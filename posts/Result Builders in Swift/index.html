<!DOCTYPE html><html lang="en"><head><meta charset="UTF-8"/><meta property="og:site_name" content="taofuns"/><link rel="canonical" href="https://taofuns.github.io/posts/Result%20Builders%20in%20Swift"/><meta name="twitter:url" content="https://taofuns.github.io/posts/Result%20Builders%20in%20Swift"/><meta property="og:url" content="https://taofuns.github.io/posts/Result%20Builders%20in%20Swift"/><title>Result Builders in Swift | taofuns</title><meta name="twitter:title" content="Result Builders in Swift | taofuns"/><meta property="og:title" content="Result Builders in Swift | taofuns"/><meta name="description" content="A description of my first post."/><meta name="twitter:description" content="A description of my first post."/><meta property="og:description" content="A description of my first post."/><meta name="twitter:card" content="summary"/><link rel="stylesheet" href="/styles.css" type="text/css"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><link rel="shortcut icon" href="/images/favicon.png" type="image/png"/><link rel="alternate" href="/feed.rss" type="application/rss+xml" title="Subscribe to taofuns"/></head><body class="item-page"><header><div class="wrapper"><a href="/" class="site-name">taofuns</a><nav><ul><li><a href="/posts" class="selected">My posts</a></li><li><a href="/tags">Tags</a></li><li><a href="/about">About</a></li></ul></nav></div></header><div class="wrapper"><article><div class="content"><h1>Result Builders in Swift</h1><p>https://github.com/apple/swift-evolution/blob/main/proposals/0289-result-builders.md</p><p><a href="https://docs.swift.org/swift-book/documentation/the-swift-programming-language/advancedoperators/#Result-Builders">Documentation in advanced operation</a> <a href="https://docs.swift.org/swift-book/documentation/the-swift-programming-language/attributes/#resultBuilder">Documentation in attributes</a> <a href="https://developer.apple.com/wwdc21/10253">Write a DSL in Swift using result builders - WWDC21 - Videos - Apple Developer</a> #Apple/WWDC/21</p><p>Apply this attribute to a class, structure, enumeration to use that type as a result builder. A <em>result builder</em> is a type that builds a nested data structure step by step.</p><p>You use result builders to implement a domain-specific language (DSL) for creating nested data structures in a natural, declarative way.</p><h2>Translate from compiler</h2><p>https://developer.apple.com/wwdc19/402 <img src="Result%20Builders%20in%20Swift/D53BC15E-D41D-4310-B934-3D316D657A0A.png"/></p><h2>View Builder</h2><p><a href="https://developer.apple.com/documentation/swiftui/viewbuilder/">ViewBuilder | Apple Developer Documentation</a></p><h2>DSL</h2><p>Embedded DLSs, in a declarative way</p><p>With SwiftUI DSL: <img src="Result%20Builders%20in%20Swift/BC8D12E5-26B2-49D9-8381-9730ECB654E1.png"/> Without SwiftUI DSL:</p><pre><code class="language-swift">struct FavoriteSmoothies: View {
    @EnvironmentObject
    private var model: FrutaModel

    var body: some View {
        var list = SmoothieList(smoothies: model.favoriteSmoothies)
        
        let overlay: View
        if model.favoriteSmoothies.isEmpty {
            var text = Text("Add some smoothies!")
            text.foregroundColor = .secondary

            var frame = Frame(subview: text)
            frame.maxWidth = .infinity
            frame.maxHeight = .infinity
            overlay = frame
        } else {
            overlay = EmptyView()
        }
        
        list.addOverlay(overlay)
        list.navigationTitle = "Favorites"
        
        return list
    }
}
</code></pre><img src="Result%20Builders%20in%20Swift/0A307F6D-5868-468A-AE78-F10D86799FD1.png"/></div><span>Tagged with: </span><ul class="tag-list"><li><a href="/tags/swift">swift</a></li></ul></article></div><footer><p>Generated using <a href="https://github.com/johnsundell/publish">Publish</a></p><p><a href="/feed.rss">RSS feed</a></p></footer></body></html>