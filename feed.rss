<?xml version="1.0" encoding="UTF-8"?><rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom" xmlns:content="http://purl.org/rss/1.0/modules/content/"><channel><title>taofuns</title><description>Time I waste, and the fun i get</description><link>https://taofuns.github.io</link><language>en</language><lastBuildDate>Mon, 3 Jul 2023 03:13:39 +0800</lastBuildDate><pubDate>Mon, 3 Jul 2023 03:13:39 +0800</pubDate><ttl>250</ttl><atom:link href="https://taofuns.github.io/feed.rss" rel="self" type="application/rss+xml"/><item><guid isPermaLink="true">https://taofuns.github.io/posts/Result%20Builders%20in%20Swift</guid><title>Result Builders in Swift</title><description>A description of my first post.</description><link>https://taofuns.github.io/posts/Result%20Builders%20in%20Swift</link><pubDate>Sun, 2 Jul 2023 23:56:00 +0800</pubDate><content:encoded><![CDATA[<h1>Result Builders in Swift</h1><p>https://github.com/apple/swift-evolution/blob/main/proposals/0289-result-builders.md</p><p><a href="https://docs.swift.org/swift-book/documentation/the-swift-programming-language/advancedoperators/#Result-Builders">Documentation in advanced operation</a> <a href="https://docs.swift.org/swift-book/documentation/the-swift-programming-language/attributes/#resultBuilder">Documentation in attributes</a> <a href="https://developer.apple.com/wwdc21/10253">Write a DSL in Swift using result builders - WWDC21 - Videos - Apple Developer</a> #Apple/WWDC/21</p><p>Apply this attribute to a class, structure, enumeration to use that type as a result builder. A <em>result builder</em> is a type that builds a nested data structure step by step.</p><p>You use result builders to implement a domain-specific language (DSL) for creating nested data structures in a natural, declarative way.</p><h2>Translate from compiler</h2><p>https://developer.apple.com/wwdc19/402 <img src="Result%20Builders%20in%20Swift/D53BC15E-D41D-4310-B934-3D316D657A0A.png"/></p><h2>View Builder</h2><p><a href="https://developer.apple.com/documentation/swiftui/viewbuilder/">ViewBuilder | Apple Developer Documentation</a></p><h2>DSL</h2><p>Embedded DLSs, in a declarative way</p><p>With SwiftUI DSL: <img src="Result%20Builders%20in%20Swift/BC8D12E5-26B2-49D9-8381-9730ECB654E1.png"/> Without SwiftUI DSL:</p><pre><code class="language-swift">struct FavoriteSmoothies: View {
    @EnvironmentObject
    private var model: FrutaModel

    var body: some View {
        var list = SmoothieList(smoothies: model.favoriteSmoothies)
        
        let overlay: View
        if model.favoriteSmoothies.isEmpty {
            var text = Text("Add some smoothies!")
            text.foregroundColor = .secondary

            var frame = Frame(subview: text)
            frame.maxWidth = .infinity
            frame.maxHeight = .infinity
            overlay = frame
        } else {
            overlay = EmptyView()
        }
        
        list.addOverlay(overlay)
        list.navigationTitle = "Favorites"
        
        return list
    }
}
</code></pre><img src="Result%20Builders%20in%20Swift/0A307F6D-5868-468A-AE78-F10D86799FD1.png"/>]]></content:encoded></item><item><guid isPermaLink="true">https://taofuns.github.io/posts/first-post</guid><title>My first post</title><description>A description of my first post.</description><link>https://taofuns.github.io/posts/first-post</link><pubDate>Sun, 2 Jul 2023 23:56:00 +0800</pubDate><content:encoded><![CDATA[<h1>My first post</h1><p>My first post's text.</p>]]></content:encoded></item></channel></rss>